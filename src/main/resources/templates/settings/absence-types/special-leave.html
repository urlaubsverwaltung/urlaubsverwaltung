<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <title></title>
  </head>
  <body>
    <th:block th:fragment="section">
      <div class="uv-form__group">
        <div class="uv-help-block">
          <svg th:replace="~{icon/info::svg(className='uv-help-block-icon')}"></svg>
          <div class="flex flex-col gap-4">
            <p th:text="#{settings.specialleave.help}"></p>
            <p>
              <th:block th:text="#{settings.specialleave.description.1}" />
              <a
                class="flex items-center"
                href="mailto:info@urlaubsverwaltung.cloud?subject=Missing%20special%20leaves"
              >
                <svg th:replace="~{icon/mail::svg(className='w-4 h-4 mr-1')}"></svg>
                <th:block th:text="#{settings.specialleave.description.2}" />
              </a>
            </p>
          </div>
        </div>
        <table id="special-leave-table" class="mt-4 w-full absence-type-settings-table">
          <caption th:text="#{settings.specialleave.title}" class="sr-only"></caption>
          <thead>
            <tr>
              <th th:text="#{settings.specialleave.table.head.state}" scope="col"></th>
              <th th:text="#{settings.specialleave.table.head.type}" scope="col"></th>
              <th th:text="#{settings.specialleave.table.head.days}" scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr
              th:each="specialLeaveSettingsItem, loop : ${settings.specialLeaveSettings.specialLeaveSettingsItems}"
              th:data-enabled="${specialLeaveSettingsItem.active}"
            >
              <td data-col-status th:data-table-head-text="#{settings.specialleave.table.head.state}">
                <input
                  type="hidden"
                  th:field="*{specialLeaveSettings.specialLeaveSettingsItems[__${loop.index}__].messageKey}"
                />
                <span class="checkbox-switch">
                  <input
                    type="hidden"
                    th:name="|specialLeaveSettings.specialLeaveSettingsItems[${loop.index}].id|"
                    th:value="${specialLeaveSettingsItem.id}"
                  />
                  <input
                    type="checkbox"
                    th:field="*{specialLeaveSettings.specialLeaveSettingsItems[__${loop.index}__].active}"
                    th:id="|specialLeave-active-${loop.index}|"
                  />
                  <label
                    th:text="#{settings.specialleave.action.state.label}"
                    th:for="|specialLeave-active-${loop.index}|"
                    class="sr-only"
                    >Aktiviert / Deaktiviert</label
                  >
                </span>
              </td>

              <td th:data-table-head-text="#{settings.specialleave.table.head.type}">
                <span th:text="#{__${specialLeaveSettingsItem.messageKey}__}" class="w-1/2 md:w-full"> </span>
              </td>

              <td th:data-table-head-text="#{settings.specialleave.table.head.days}">
                <input
                  th:id="|specialLeave-days-${loop.index}|"
                  class="w-1/2 sm:w-full"
                  th:field="*{specialLeaveSettings.specialLeaveSettingsItems[__${loop.index}__].days}"
                  th:errorclass="error"
                  type="number"
                  step="1"
                  min="0"
                />

                <div
                  class="text-sm text-red-800 dark:text-red-400"
                  th:if="${#fields.hasErrors('specialLeaveSettings.specialLeaveSettingsItems[__${loop.index}__].days')}"
                >
                  <th:block th:errors="*{specialLeaveSettings.specialLeaveSettingsItems[__${loop.index}__].days}">
                    specialLeaveSettings.specialLeaveSettingsItems Error
                  </th:block>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </th:block>
  </body>
</html>
