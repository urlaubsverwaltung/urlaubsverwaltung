<!doctype html>
<html lang="en" th:lang="${language}" th:class="|tw-${theme}|" xmlns:th="http://www.thymeleaf.org">
  <head
    th:replace="~{_layout::head(title=~{::title}, styles=~{::styles}, scripts=~{::scripts}, scriptsDefer=~{::scriptsDefer}, preload=~{::preload})}"
  >
    <title th:text="#{sicknotes.statistics.header.title(${statistics.year})}">Krankmeldungsstatistik</title>
    <th:block th:fragment="styles">
      <link rel="stylesheet" th:href="@{/css/sick-note-statistics.css}" />
    </th:block>
    <th:block th:fragment="preload">
      <link rel="preload" th:replace="~{fragments/asset-dependency-preload::links('sick_notes_statistics.js')}" />
    </th:block>
    <th:block th:fragment="scripts">
      <script th:inline="javascript">
        /*<![CDATA[*/
        window.sicknoteStatistic = {};
        window.sicknoteStatistic.xaxisLabels = [
          /*[[#{month.january}]]*/ "Januar",
          /*[[#{month.february}]]*/ "Februar",
          /*[[#{month.march}]]*/ "März",
          /*[[#{month.april}]]*/ "April",
          /*[[#{month.may}]]*/ "Mai",
          /*[[#{month.june}]]*/ "Juni",
          /*[[#{month.july}]]*/ "Juli",
          /*[[#{month.august}]]*/ "August",
          /*[[#{month.september}]]*/ "September",
          /*[[#{month.october}]]*/ "Oktober",
          /*[[#{month.november}]]*/ "November",
          /*[[#{month.december}]]*/ "Dezember",
        ];
        window.sicknoteStatistic.yaxisTitle = /*[[#{sicknotes.statistics.chart.y-axis-label}]]*/ "Tage";
        window.sicknoteStatistic.dataseriesNames = [
          /*[[#{sicknote.type.SICK_NOTE}]]*/ "Krank",
          /*[[#{sicknote.type.SICK_NOTE_CHILD}]]*/ "Kind-Krank",
        ];
        window.sicknoteStatistic.dataseriesValues = /*[[${sickNoteGraphStatistic.dataSeries}]]*/ [];
        /*]]>*/
      </script>
    </th:block>
    <th:block th:fragment="scriptsDefer">
      <script defer type="module" asset:src="sick_notes_statistics.js"></script>
    </th:block>
  </head>
  <body th:replace="~{_layout::body(~{::main}, ~{})}">
    <main th:fragment="main">
      <div class="tw-max-w-6xl tw-mx-auto tw-px-4 lg:tw-px-12 xl:tw-px-1.5">
        <div
          th:replace="~{fragments/section-heading::section-heading(~{::absences-statistics-heading-body}, ~{::absences-statistics-heading-actions})}"
        >
          <th:block th:ref="absences-statistics-heading-body">
            <h1 th:text="#{sicknotes.statistics.title}">Statistik für das Jahr</h1>
            <div
              th:replace="~{fragments/year-selector::year-selector(id='year-selection', currentYear=${currentYear}, hrefPrefix=|/web/sicknote/statistics?year=|, selectedYear=${statistics.year})}"
            ></div>
          </th:block>
          <th:block th:ref="absences-statistics-heading-actions">
            <a href="#" th:replace="~{fragments/print::button}"></a>
          </th:block>
        </div>

        <div>
          <div class="tw-mt-8 tw-flex tw-flex-col md:tw-flex-row tw-justify-between tw-gap-1">
            <h2 class="tw-m-0 tw-font-bold tw-text-base" th:text="#{sicknotes.statistics.chart.title}">
              Verteilung der Krankheitstage
            </h2>
            <div class="tw-text-sm md:tw-font-bold md:tw-text-right md:tw-px-3">
              <th:block th:text="#{filter.validity}"></th:block>
              <th:block th:text="${{statistics.created}}"></th:block>
            </div>
          </div>

          <div class="tw-mt-4 sicknote-statistics-chart-container">
            <div id="sicknote-statistic-chart" class="sicknote-statistics-chart"></div>
          </div>
        </div>

        <div class="tw-mt-8 tw-flex tw-flex-col tw-justify-between tw-gap-1 md:tw-mt-12 md:tw-flex-row">
          <h2 class="tw-m-0 tw-text-base tw-font-bold" th:text="#{sicknotes.statistics.summary.title}">
            Zusammenfassung
          </h2>
        </div>

        <div class="tw-mt-8 statistic-summary-container">
          <h3 class="statistic-summary-container-title">Krankmeldungen</h3>
          <p class="tw-text-sm">Detailliertere Statistiken zur Anzahl von Krankmeldungen.</p>
          <div class="statistic-summary-card-box">
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label tw-flex"> Anzahl aller Krankmeldungen </span>
              <span class="statistic-summary-card__content">
                <span th:text="${statistics.totalNumberOfSickNotes}">1337</span>
              </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label">
                <span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-color)"
                ></span>
                Anzahl Krankmeldungen
              </span>
              <span class="statistic-summary-card__content"> 3 </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label">
                <span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-child-color)"
                ></span>
                Anzahl Kind-Krankmeldungen
              </span>
              <span class="statistic-summary-card__content"> 5 </span>
            </p>
          </div>
          <div class="statistic-summary-card-box">
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label">Mindestens eine Krankmeldung</span>
              <span class="statistic-summary-card__content">
                <span class="tw-flex tw-items-center tw-gap-4 tw-text-base tw-font-normal">
                  <span id="sicknote-statistic-verteilung"></span>
                  <span class="tw-flex-1 tw-flex tw-flex-col tw-gap-1 tw-text-sm">
                    <span> 4 Mitarbeitende mit mindestens einer Krankmeldung </span>
                    <span> 10 Mitarbeitende ohne Krankmeldung </span>
                  </span>
                </span>
              </span>
            </p>
          </div>
        </div>

        <div class="tw-mt-8 statistic-summary-container">
          <h3 class="statistic-summary-container-title">Krankheitstage</h3>
          <p class="tw-text-sm">Alle Krankheitstage in diesem Jahr zusammen gezählt.</p>
          <div class="statistic-summary-card-box">
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label">Gesamt Anzahl Tage</span>
              <span class="statistic-summary-card__content">
                <span
                  th:with="value=${statistics.totalNumberOfSickDaysAllCategories}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >1337</span
                >
              </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label"
                ><span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-color)"
                ></span
                >Krank Anzahl Tage</span
              >
              <span class="statistic-summary-card__content">
                <span
                  th:with="value=${statistics.totalNumberOfSickDays}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >42</span
                >
              </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label"
                ><span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-child-color)"
                ></span
                >Kind-Krank Anzahl Tage</span
              >
              <span class="statistic-summary-card__content">
                <span
                  th:with="value=${statistics.totalNumberOfChildSickDays}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >21</span
                >
              </span>
            </p>
          </div>
        </div>

        <div class="tw-mt-8 statistic-summary-container">
          <h3 class="statistic-summary-container-title">Dauer einer Krankmeldung</h3>
          <span class="tw-text-sm tw-block"
            >Anzahl der Tage die deine Mitarbeitenden im Durchschnitt je Krankmeldung abwesend sind.</span
          >
          <div class="statistic-summary-card-box">
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label">Gesamt durchschnittliche Dauer</span>
              <span class="statistic-summary-card__content">
                <span class="tw-text-lg">ø</span>
                <span
                  th:with="value=${statistics.averageDurationOfDiseasePerPerson}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >1337</span
                >
              </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label"
                ><span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-color)"
                ></span
                >Krank durchschnittliche Dauer</span
              >
              <span class="statistic-summary-card__content">
                <span class="tw-text-lg">ø</span>
                <span
                  th:with="value=${statistics.averageDurationOfSickNote}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >42</span
                >
              </span>
            </p>
            <p class="statistic-summary-card">
              <span class="statistic-summary-card__label"
                ><span
                  class="tw-inline-block tw-h-3 tw-w-3 tw-rounded-sm tw-mr-2"
                  style="background-color: var(--sick-note-child-color)"
                ></span
                >Kind-Krank durchschnittliche Dauer</span
              >
              <span class="statistic-summary-card__content">
                <span class="tw-text-lg">ø</span>
                <span
                  th:with="value=${statistics.averageDurationOfChildSickNote}"
                  th:text="${#numbers.formatDecimal(value, 0, (value % 1 == 0 ? 0 : 1))}"
                  >21</span
                >
              </span>
            </p>
          </div>
        </div>

        <!--        <table class="tw-mt-4 list-table tw-text-sm">-->
        <!--          <caption class="tw-sr-only" th:text="#{sicknotes.statistics.title}">-->
        <!--            Statistik für das Jahr-->
        <!--          </caption>-->
        <!--          <tbody>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.totalNumber}"></td>-->
        <!--              <td class="tw-text-right" th:text="${statistics.totalNumberOfSickNotes}"></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.totalNumberOfDaysAllCategories}">totalNumberOfDaysAllCategories</td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.totalNumberOfSickDaysAllCategories} % 1 == 0 ? ${#numbers.formatDecimal(statistics.totalNumberOfSickDaysAllCategories, 1, 0)} : ${#numbers.formatDecimal(statistics.totalNumberOfSickDaysAllCategories, 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.totalNumberOfDays.SICK_NOTE}">-->
        <!--                Anzahl Krankheitstage (Normale Krankmeldung)-->
        <!--              </td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.getTotalNumberOfSickDays()} % 1 == 0 ? ${#numbers.formatDecimal(statistics.getTotalNumberOfSickDays(), 1, 0)} : ${#numbers.formatDecimal(statistics.getTotalNumberOfSickDays(), 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.totalNumberOfDays.SICK_NOTE_CHILD}">Anzahl Kind-Krankheitstage</td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.getTotalNumberOfChildSickDays()} % 1 == 0 ? ${#numbers.formatDecimal(statistics.getTotalNumberOfChildSickDays(), 1, 0)} : ${#numbers.formatDecimal(statistics.getTotalNumberOfChildSickDays(), 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.personWithSickNotes}"></td>-->
        <!--              <td class="tw-text-right" th:text="${statistics.numberOfPersonsWithMinimumOneSickNote}"></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td>Anzahl der Personen ohne Krankmeldung</td>-->
        <!--              <td class="tw-text-right" th:text="${statistics.numberOfPersonsWithoutSickNote}"></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td th:text="#{sicknotes.statistics.averageSickTime}"></td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.averageDurationOfDiseasePerPerson} % 1 == 0 ? ${#numbers.formatDecimal(statistics.averageDurationOfDiseasePerPerson, 1, 0)} : ${#numbers.formatDecimal(statistics.averageDurationOfDiseasePerPerson, 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td>Durchschnittliche Dauer einer Krankmeldung (Normale Krankmeldung)</td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.getAverageDurationOfSickNote()} % 1 == 0 ? ${#numbers.formatDecimal(statistics.getAverageDurationOfSickNote(), 1, 0)} : ${#numbers.formatDecimal(statistics.getAverageDurationOfSickNote(), 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--            <tr>-->
        <!--              <td>Durchschnittliche Dauer einer Kind-Krankmeldung</td>-->
        <!--              <td-->
        <!--                class="tw-text-right"-->
        <!--                th:text="${statistics.getAverageDurationOfChildSickNote()} % 1 == 0 ? ${#numbers.formatDecimal(statistics.getAverageDurationOfChildSickNote(), 1, 0)} : ${#numbers.formatDecimal(statistics.getAverageDurationOfChildSickNote(), 1, 1)}"-->
        <!--              ></td>-->
        <!--            </tr>-->
        <!--          </tbody>-->
        <!--        </table>-->
      </div>
    </main>
  </body>
</html>
