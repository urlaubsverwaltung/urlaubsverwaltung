<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>app action reject</title>
  </head>
  <body>
    <th:block th:fragment="buttons">
      <th:block th:if="${isAllowedToRejectApplication}">
        <button
          class="icon-link bg-transparent hover:text-red-500"
          onclick="
            document.querySelector('#refer')?.classList.add('hidden');
            document.querySelector('#allow')?.classList.add('hidden');
            document.querySelector('#cancel')?.classList.add('hidden');
            document.querySelector('#decline-cancellation-request')?.classList.add('hidden');
            document.querySelector('#reject')?.classList.remove('hidden');
          "
          th:data-title="#{action.reject}"
        >
          <svg th:replace="~{icon/slash::svg(className='w-5 h-5')}"></svg>
          <span class="sr-only" th:text="#{action.reject}"></span>
        </button>
      </th:block>
    </th:block>

    <th:block th:fragment="form">
      <form
        id="reject"
        class="alert alert-danger"
        th:classappend="${action eq 'reject' ? '' : 'hidden'}"
        method="post"
        th:with="actionUrl=${param.shortcut != null && #lists.contains(param.shortcut, 'true') ? '/web/application/__${app.id}__/reject?redirect=/web/application' : '/web/application/__${app.id}__/reject'}"
        th:action="@{__${actionUrl}__}"
        th:object="${comment}"
      >
        <div class="mb-0">
          <strong class="font-medium" th:text="#{action.reject.confirm}"></strong>
        </div>

        <div class="mb-0">
          <label th:text="|#{action.comment.mandatory}:|" for="text-reject">Kommentar, obligatorisch</label>
          <textarea id="text-reject" rows="2" name="text" th:errorclass="error"></textarea>
        </div>

        <div class="flex justify-between gap-4">
          <button type="submit" class="button-danger w-56" th:text="#{action.reject}"></button>
          <button
            type="button"
            class="button"
            th:text="#{action.cancel}"
            onclick="document.querySelector('#reject')?.classList.add('hidden')"
          ></button>
        </div>
      </form>
    </th:block>
  </body>
</html>
